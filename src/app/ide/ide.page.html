<ion-header>
  <ion-toolbar color="primary" class="glass-header">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ 'APP_TITLE' | translate }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="run()" color="success" fill="solid">
        <ion-icon name="play-outline" slot="start"></ion-icon>
        {{ 'HOME.RUN' | translate }}
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="home-content" [scrollY]="false">
  <ion-progress-bar type="indeterminate" *ngIf="isExecuting" color="warning"></ion-progress-bar>

  <div class="split-container" (mouseup)="stopResizing()" (touchend)="stopResizing()" (mousemove)="resize($event)"
    (touchmove)="resize($event)">

    <!-- Editor Pane -->
    <div class="editor-pane" [style.height.%]="editorHeight">
      <ace-editor [(text)]="code" [mode]="'python'" [theme]="'tomorrow'"
        style="width:100%; height:100%; font-size:16px;" [options]="{
        enableBasicAutocompletion: true,
        enableLiveAutocompletion: true
      }"></ace-editor>
    </div>

    <!-- Resizer Handle -->
    <div class="resizer" (mousedown)="startResizing($event)" (touchstart)="startResizing($event)">
      <div class="handle"></div>
    </div>

    <!-- Output Pane -->
    <div class="output-pane" [style.height.%]="100 - editorHeight">
      <div class="output-header">
        <span>OUTPUT</span>
        <ion-button size="small" fill="clear" (click)="output = ''" *ngIf="output">
          <ion-icon name="trash-outline" color="danger" slot="icon-only"></ion-icon>
        </ion-button>
      </div>
      <pre class="output-content">{{ output || 'Run code to see output...' }}</pre>
    </div>

  </div>
</ion-content>